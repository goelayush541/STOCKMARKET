{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { api } from '../services/api';\nexport const useSignals = (filters = {}) => {\n  _s();\n  const [signals, setSignals] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchSignals = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const data = await api.getSignals(filters);\n        setSignals(data.signals || []);\n      } catch (err) {\n        console.error('Error fetching signals:', err);\n        setError(err.message);\n\n        // Fallback to mock data if API is down\n        if (err.message.includes('Cannot connect to server')) {\n          setSignals(generateMockSignals(filters.limit || 10));\n          setError('Using mock data (server unavailable)');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchSignals();\n  }, [filters]);\n  const refresh = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const data = await api.getSignals(filters);\n      setSignals(data.signals || []);\n    } catch (err) {\n      console.error('Error refreshing signals:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return {\n    signals,\n    loading,\n    error,\n    refresh\n  };\n};\n\n// Fallback mock data generator\n_s(useSignals, \"UvHDFsAaGELhgIDO5bfmW4au0iA=\");\nfunction generateMockSignals(limit = 10) {\n  const symbols = ['AAPL', 'MSFT', 'GOOGL', 'AMZN', 'TSLA', 'NVDA', 'META'];\n  const signalTypes = ['BUY', 'SELL', 'NEUTRAL'];\n  return Array.from({\n    length: limit\n  }, (_, i) => ({\n    _id: `mock_signal_${Date.now()}_${i}`,\n    symbol: symbols[Math.floor(Math.random() * symbols.length)],\n    signalType: signalTypes[Math.floor(Math.random() * signalTypes.length)],\n    strength: Math.random() * 0.5 + 0.5,\n    confidence: Math.random() * 0.3 + 0.7,\n    source: 'mock',\n    generatedAt: new Date(),\n    explanation: 'Mock data - server connection issue',\n    expiration: new Date(Date.now() + 2 * 60 * 60 * 1000)\n  }));\n}","map":{"version":3,"names":["useState","useEffect","api","useSignals","filters","_s","signals","setSignals","loading","setLoading","error","setError","fetchSignals","data","getSignals","err","console","message","includes","generateMockSignals","limit","refresh","symbols","signalTypes","Array","from","length","_","i","_id","Date","now","symbol","Math","floor","random","signalType","strength","confidence","source","generatedAt","explanation","expiration"],"sources":["C:/Users/Ayush Goel/OneDrive/Desktop/DEPLOYED/STOCKMARKET/frontend/src/hooks/useSignals.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { api } from '../services/api';\r\n\r\nexport const useSignals = (filters = {}) => {\r\n  const [signals, setSignals] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchSignals = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        const data = await api.getSignals(filters);\r\n        setSignals(data.signals || []);\r\n      } catch (err) {\r\n        console.error('Error fetching signals:', err);\r\n        setError(err.message);\r\n        \r\n        // Fallback to mock data if API is down\r\n        if (err.message.includes('Cannot connect to server')) {\r\n          setSignals(generateMockSignals(filters.limit || 10));\r\n          setError('Using mock data (server unavailable)');\r\n        }\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchSignals();\r\n  }, [filters]);\r\n\r\n  const refresh = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const data = await api.getSignals(filters);\r\n      setSignals(data.signals || []);\r\n    } catch (err) {\r\n      console.error('Error refreshing signals:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return { signals, loading, error, refresh };\r\n};\r\n\r\n// Fallback mock data generator\r\nfunction generateMockSignals(limit = 10) {\r\n  const symbols = ['AAPL', 'MSFT', 'GOOGL', 'AMZN', 'TSLA', 'NVDA', 'META'];\r\n  const signalTypes = ['BUY', 'SELL', 'NEUTRAL'];\r\n  \r\n  return Array.from({ length: limit }, (_, i) => ({\r\n    _id: `mock_signal_${Date.now()}_${i}`,\r\n    symbol: symbols[Math.floor(Math.random() * symbols.length)],\r\n    signalType: signalTypes[Math.floor(Math.random() * signalTypes.length)],\r\n    strength: Math.random() * 0.5 + 0.5,\r\n    confidence: Math.random() * 0.3 + 0.7,\r\n    source: 'mock',\r\n    generatedAt: new Date(),\r\n    explanation: 'Mock data - server connection issue',\r\n    expiration: new Date(Date.now() + 2 * 60 * 60 * 1000)\r\n  }));\r\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,SAASC,GAAG,QAAQ,iBAAiB;AAErC,OAAO,MAAMC,UAAU,GAAGA,CAACC,OAAO,GAAG,CAAC,CAAC,KAAK;EAAAC,EAAA;EAC1C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd,MAAMW,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACFH,UAAU,CAAC,IAAI,CAAC;QAChBE,QAAQ,CAAC,IAAI,CAAC;QAEd,MAAME,IAAI,GAAG,MAAMX,GAAG,CAACY,UAAU,CAACV,OAAO,CAAC;QAC1CG,UAAU,CAACM,IAAI,CAACP,OAAO,IAAI,EAAE,CAAC;MAChC,CAAC,CAAC,OAAOS,GAAG,EAAE;QACZC,OAAO,CAACN,KAAK,CAAC,yBAAyB,EAAEK,GAAG,CAAC;QAC7CJ,QAAQ,CAACI,GAAG,CAACE,OAAO,CAAC;;QAErB;QACA,IAAIF,GAAG,CAACE,OAAO,CAACC,QAAQ,CAAC,0BAA0B,CAAC,EAAE;UACpDX,UAAU,CAACY,mBAAmB,CAACf,OAAO,CAACgB,KAAK,IAAI,EAAE,CAAC,CAAC;UACpDT,QAAQ,CAAC,sCAAsC,CAAC;QAClD;MACF,CAAC,SAAS;QACRF,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDG,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACR,OAAO,CAAC,CAAC;EAEb,MAAMiB,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAI;MACFZ,UAAU,CAAC,IAAI,CAAC;MAChBE,QAAQ,CAAC,IAAI,CAAC;MAEd,MAAME,IAAI,GAAG,MAAMX,GAAG,CAACY,UAAU,CAACV,OAAO,CAAC;MAC1CG,UAAU,CAACM,IAAI,CAACP,OAAO,IAAI,EAAE,CAAC;IAChC,CAAC,CAAC,OAAOS,GAAG,EAAE;MACZC,OAAO,CAACN,KAAK,CAAC,2BAA2B,EAAEK,GAAG,CAAC;MAC/CJ,QAAQ,CAACI,GAAG,CAACE,OAAO,CAAC;IACvB,CAAC,SAAS;MACRR,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,OAAO;IAAEH,OAAO;IAAEE,OAAO;IAAEE,KAAK;IAAEW;EAAQ,CAAC;AAC7C,CAAC;;AAED;AAAAhB,EAAA,CAhDaF,UAAU;AAiDvB,SAASgB,mBAAmBA,CAACC,KAAK,GAAG,EAAE,EAAE;EACvC,MAAME,OAAO,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,CAAC;EACzE,MAAMC,WAAW,GAAG,CAAC,KAAK,EAAE,MAAM,EAAE,SAAS,CAAC;EAE9C,OAAOC,KAAK,CAACC,IAAI,CAAC;IAAEC,MAAM,EAAEN;EAAM,CAAC,EAAE,CAACO,CAAC,EAAEC,CAAC,MAAM;IAC9CC,GAAG,EAAE,eAAeC,IAAI,CAACC,GAAG,CAAC,CAAC,IAAIH,CAAC,EAAE;IACrCI,MAAM,EAAEV,OAAO,CAACW,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGb,OAAO,CAACI,MAAM,CAAC,CAAC;IAC3DU,UAAU,EAAEb,WAAW,CAACU,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGZ,WAAW,CAACG,MAAM,CAAC,CAAC;IACvEW,QAAQ,EAAEJ,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG;IACnCG,UAAU,EAAEL,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG;IACrCI,MAAM,EAAE,MAAM;IACdC,WAAW,EAAE,IAAIV,IAAI,CAAC,CAAC;IACvBW,WAAW,EAAE,qCAAqC;IAClDC,UAAU,EAAE,IAAIZ,IAAI,CAACA,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI;EACtD,CAAC,CAAC,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}