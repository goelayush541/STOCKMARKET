{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ayush Goel\\\\OneDrive\\\\Desktop\\\\DEPLOYED\\\\STOCKMARKET\\\\frontend\\\\src\\\\contexts\\\\AppContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useReducer, useEffect } from 'react';\nimport { useAuth } from './AuthContext';\nimport { api } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContext = /*#__PURE__*/createContext();\nconst appReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_LOADING':\n      return {\n        ...state,\n        loading: action.payload\n      };\n    case 'SET_ERROR':\n      return {\n        ...state,\n        error: action.payload\n      };\n    case 'SET_SIGNALS':\n      return {\n        ...state,\n        signals: action.payload\n      };\n    case 'SET_MARKET_DATA':\n      return {\n        ...state,\n        marketData: action.payload\n      };\n    case 'SET_NEWS':\n      return {\n        ...state,\n        news: action.payload\n      };\n    case 'SET_USER_PREFERENCES':\n      return {\n        ...state,\n        userPreferences: action.payload\n      };\n    case 'ADD_ALERT':\n      return {\n        ...state,\n        alerts: [...state.alerts, action.payload]\n      };\n    case 'REMOVE_ALERT':\n      return {\n        ...state,\n        alerts: state.alerts.filter(alert => alert.id !== action.payload)\n      };\n    case 'CLEAR_ALERTS':\n      return {\n        ...state,\n        alerts: []\n      };\n    default:\n      return state;\n  }\n};\nconst initialState = {\n  loading: false,\n  error: null,\n  signals: [],\n  marketData: {},\n  news: [],\n  userPreferences: null,\n  alerts: []\n};\nexport const useApp = () => {\n  _s();\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useApp must be used within an AppProvider');\n  }\n  return context;\n};\n_s(useApp, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const AppProvider = ({\n  children\n}) => {\n  _s2();\n  const [state, dispatch] = useReducer(appReducer, initialState);\n  const {\n    user\n  } = useAuth();\n  useEffect(() => {\n    if (user) {\n      loadUserPreferences();\n      loadInitialData();\n    }\n  }, [user]);\n  const loadUserPreferences = async () => {\n    try {\n      const preferences = await api.getUserProfile();\n      dispatch({\n        type: 'SET_USER_PREFERENCES',\n        payload: preferences\n      });\n    } catch (error) {\n      console.error('Failed to load user preferences:', error);\n    }\n  };\n  const loadInitialData = async () => {\n    try {\n      dispatch({\n        type: 'SET_LOADING',\n        payload: true\n      });\n      const [signals, news] = await Promise.all([api.getSignals(), api.getNews({\n        limit: 10\n      })]);\n      dispatch({\n        type: 'SET_SIGNALS',\n        payload: signals\n      });\n      dispatch({\n        type: 'SET_NEWS',\n        payload: news\n      });\n    } catch (error) {\n      dispatch({\n        type: 'SET_ERROR',\n        payload: error.message\n      });\n    } finally {\n      dispatch({\n        type: 'SET_LOADING',\n        payload: false\n      });\n    }\n  };\n  const updatePreferences = async updates => {\n    try {\n      const updatedPreferences = await api.updateUserProfile(updates);\n      dispatch({\n        type: 'SET_USER_PREFERENCES',\n        payload: updatedPreferences\n      });\n      return {\n        success: true\n      };\n    } catch (error) {\n      dispatch({\n        type: 'SET_ERROR',\n        payload: error.message\n      });\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  };\n  const addAlert = alert => {\n    const id = Date.now().toString();\n    dispatch({\n      type: 'ADD_ALERT',\n      payload: {\n        ...alert,\n        id\n      }\n    });\n\n    // Auto-remove alert after 5 seconds\n    setTimeout(() => {\n      dispatch({\n        type: 'REMOVE_ALERT',\n        payload: id\n      });\n    }, 5000);\n  };\n  const clearError = () => {\n    dispatch({\n      type: 'SET_ERROR',\n      payload: null\n    });\n  };\n  const value = {\n    ...state,\n    loadInitialData,\n    updatePreferences,\n    addAlert,\n    clearError\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 5\n  }, this);\n};\n_s2(AppProvider, \"hSdSjqWJKYfK9eeRrsl94KPEqnE=\", false, function () {\n  return [useAuth];\n});\n_c = AppProvider;\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","useAuth","api","jsxDEV","_jsxDEV","AppContext","appReducer","state","action","type","loading","payload","error","signals","marketData","news","userPreferences","alerts","filter","alert","id","initialState","useApp","_s","context","Error","AppProvider","children","_s2","dispatch","user","loadUserPreferences","loadInitialData","preferences","getUserProfile","console","Promise","all","getSignals","getNews","limit","message","updatePreferences","updates","updatedPreferences","updateUserProfile","success","addAlert","Date","now","toString","setTimeout","clearError","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Ayush Goel/OneDrive/Desktop/DEPLOYED/STOCKMARKET/frontend/src/contexts/AppContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\r\nimport { useAuth } from './AuthContext';\r\nimport { api } from '../services/api';\r\n\r\nconst AppContext = createContext();\r\n\r\nconst appReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'SET_LOADING':\r\n      return { ...state, loading: action.payload };\r\n    case 'SET_ERROR':\r\n      return { ...state, error: action.payload };\r\n    case 'SET_SIGNALS':\r\n      return { ...state, signals: action.payload };\r\n    case 'SET_MARKET_DATA':\r\n      return { ...state, marketData: action.payload };\r\n    case 'SET_NEWS':\r\n      return { ...state, news: action.payload };\r\n    case 'SET_USER_PREFERENCES':\r\n      return { ...state, userPreferences: action.payload };\r\n    case 'ADD_ALERT':\r\n      return { ...state, alerts: [...state.alerts, action.payload] };\r\n    case 'REMOVE_ALERT':\r\n      return { ...state, alerts: state.alerts.filter(alert => alert.id !== action.payload) };\r\n    case 'CLEAR_ALERTS':\r\n      return { ...state, alerts: [] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  error: null,\r\n  signals: [],\r\n  marketData: {},\r\n  news: [],\r\n  userPreferences: null,\r\n  alerts: []\r\n};\r\n\r\nexport const useApp = () => {\r\n  const context = useContext(AppContext);\r\n  if (!context) {\r\n    throw new Error('useApp must be used within an AppProvider');\r\n  }\r\n  return context;\r\n};\r\n\r\nexport const AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(appReducer, initialState);\r\n  const { user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadUserPreferences();\r\n      loadInitialData();\r\n    }\r\n  }, [user]);\r\n\r\n  const loadUserPreferences = async () => {\r\n    try {\r\n      const preferences = await api.getUserProfile();\r\n      dispatch({ type: 'SET_USER_PREFERENCES', payload: preferences });\r\n    } catch (error) {\r\n      console.error('Failed to load user preferences:', error);\r\n    }\r\n  };\r\n\r\n  const loadInitialData = async () => {\r\n    try {\r\n      dispatch({ type: 'SET_LOADING', payload: true });\r\n      \r\n      const [signals, news] = await Promise.all([\r\n        api.getSignals(),\r\n        api.getNews({ limit: 10 })\r\n      ]);\r\n      \r\n      dispatch({ type: 'SET_SIGNALS', payload: signals });\r\n      dispatch({ type: 'SET_NEWS', payload: news });\r\n    } catch (error) {\r\n      dispatch({ type: 'SET_ERROR', payload: error.message });\r\n    } finally {\r\n      dispatch({ type: 'SET_LOADING', payload: false });\r\n    }\r\n  };\r\n\r\n  const updatePreferences = async (updates) => {\r\n    try {\r\n      const updatedPreferences = await api.updateUserProfile(updates);\r\n      dispatch({ type: 'SET_USER_PREFERENCES', payload: updatedPreferences });\r\n      return { success: true };\r\n    } catch (error) {\r\n      dispatch({ type: 'SET_ERROR', payload: error.message });\r\n      return { success: false, error: error.message };\r\n    }\r\n  };\r\n\r\n  const addAlert = (alert) => {\r\n    const id = Date.now().toString();\r\n    dispatch({ type: 'ADD_ALERT', payload: { ...alert, id } });\r\n    \r\n    // Auto-remove alert after 5 seconds\r\n    setTimeout(() => {\r\n      dispatch({ type: 'REMOVE_ALERT', payload: id });\r\n    }, 5000);\r\n  };\r\n\r\n  const clearError = () => {\r\n    dispatch({ type: 'SET_ERROR', payload: null });\r\n  };\r\n\r\n  const value = {\r\n    ...state,\r\n    loadInitialData,\r\n    updatePreferences,\r\n    addAlert,\r\n    clearError\r\n  };\r\n\r\n  return (\r\n    <AppContext.Provider value={value}>\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}